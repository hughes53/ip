(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{116:e=>{e.exports={popoverContent:"AddressSelector_popoverContent__2_hzK",slideIn:"AddressSelector_slideIn__DL3fy",slideOut:"AddressSelector_slideOut__Bd_xv"}},6214:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eh});var r=a(5155),s=a(2115),n=a(1769),i=a(8252);let l=(0,i.vP)("");(0,i.vP)(!1),(0,i.vP)(null);var o=a(3464);class c{async fetchIP(){return(await o.A.get("https://api.ipify.org?format=json")).data}}let d=new c;class h{async fetchUser(e){return(await o.A.get("https://randomuser.me/api/?nat=".concat(e,"&inc=name,phone,id"))).data.results[0]}}let u=new h,g=(0,i.vP)(null);class x{async getIPCoordinates(e){return(await o.A.get("https://ipapi.co/".concat(e,"/json/"))).data}async getRandomAddress(e){return(await o.A.get("https://nominatim.openstreetmap.org/reverse?lat=".concat(e.latitude,"&lon=").concat(e.longitude,"&format=json&accept-language=en"))).data.address}async getCoordinates(e,t,a){try{let r="https://nominatim.openstreetmap.org/search?q=".concat(a,",").concat(t,",").concat(e,"&format=json&limit=1"),{lat:s,lon:n}=(await o.A.get(r)).data[0];return{latitude:s,longitude:n}}catch(r){throw r instanceof Error&&console.error("获取地理坐标失败(".concat(a,", ").concat(t,", ").concat(e,"):"),r.message),r}}getGoogleMapUrl(e){let t=[e.road,e.city,e.state,e.country].filter(Boolean).join(", ");return"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(t))}}let m=new x,p=(0,i.vP)(null),j=(0,i.vP)(null),y=()=>"history-".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2)),f=["139.run","vod365.com","pda315.com","10086hy.com","kelianbao.com","eattea.uk"],v=["ai","an","as","at","be","by","do","go","he","hi","if","in","is","it","me","my","no","of","ok","on","or","so","to","up","us","we","ace","act","add","age","aid","aim","air","all","and","any","app","are","arm","art","ask","bad","bag","bar","bat","bay","bed","bee","bet","big","bit","box","boy","bug","bus","but","buy","can","car","cat","cup","cut","day","did","die","dog","dot","dry","ear","eat","egg","end","eye","far","fat","few","fly","for","fox","fun","get","god","got","gun","guy","had","has","hat","her","him","his","hit","hot","how","ice","job","joy","key","kid","law","lay","leg","let","lie","lot","low","mad","man","map","max","may","mix","mom","new","now","odd","off","old","one","our","out","own","pay","pen","pet","pic","pie","pop","put","ran","red","run","sad","say","sea","see","set","she","shy","sit","six","sky","sun","tea","ten","the","top","toy","try","two","use","van","war","was","way","web","who","why","win","yes","yet","you","zoo"];class w{generateMeaningfulUsername(){return v[Math.floor(Math.random()*v.length)]}getRandomDomain(){return f[Math.floor(Math.random()*f.length)]}generateEmail(){let e=this.generateMeaningfulUsername(),t=this.getRandomDomain(),a="".concat(e,"@").concat(t);return this.currentEmail=a,this.currentDomain=t,a}getCurrentEmail(){return this.currentEmail}getAvailableDomains(){return[...f]}getMessages(){return[]}destroy(){}constructor(){this.currentEmail="",this.currentDomain=""}}let b=new w;var S=a(1831),C=a(7901),E=a(6431),k=a(7705),z=a(2346),I=a(8154),L=a(8234),U=a(5379),M=a(8710),O=a(8839),R=a(3096);function N(e){var t,a;let{open:s,onOpenChange:n,email:i,messages:l,onMessageClick:o,selectedMessage:c}=e;return(0,r.jsx)(k.bL,{open:s,onOpenChange:n,children:(0,r.jsxs)(k.UC,{style:{maxWidth:1e3,height:"80vh",padding:"24px"},children:[(0,r.jsx)(k.hE,{className:"sr-only",children:"收信箱"}),(0,r.jsxs)(C.s,{direction:"column",style:{height:"100%"},children:[(0,r.jsxs)(C.s,{justify:"between",align:"center",mb:"4",children:[(0,r.jsx)(C.s,{align:"center",gap:"6",children:(0,r.jsxs)(C.s,{align:"center",gap:"2",children:[(0,r.jsx)(z.D,{as:"h3",mr:"2",children:"收信箱"}),(0,r.jsx)(R.snM,{width:"24",height:"24"}),(0,r.jsx)(E.E,{size:"2",color:"gray",children:"\xb7"}),(0,r.jsx)(E.E,{size:"2",weight:"medium",children:i}),(0,r.jsx)(I.E,{size:"1",color:"green",radius:"full",children:"在线"})]})}),(0,r.jsx)(k.bm,{children:(0,r.jsx)(L.$,{variant:"soft",color:"gray",children:"关闭"})})]}),(0,r.jsxs)(C.s,{gap:"4",style:{flex:1,minHeight:0},children:[(0,r.jsx)(U.Z,{style:{width:"320px"},children:(0,r.jsx)(M.F,{type:"hover",scrollbars:"vertical",style:{height:"100%"},children:(0,r.jsx)(C.s,{direction:"column",gap:"2",style:{minHeight:"100%"},children:0===l.length?(0,r.jsx)(C.s,{align:"center",justify:"center",style:{flex:1,minHeight:"100%"},children:(0,r.jsx)(E.E,{color:"gray",children:"暂无邮件"})}):l.map(e=>(0,r.jsx)(U.Z,{variant:"surface",style:{cursor:"pointer",backgroundColor:(null==c?void 0:c.id)===e.id?"var(--accent-3)":void 0},onClick:()=>o(e),children:(0,r.jsxs)(C.s,{direction:"column",gap:"2",p:"2",children:[(0,r.jsx)(C.s,{justify:"between",align:"center",gap:"2",children:(0,r.jsx)(E.E,{weight:"bold",size:"2",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.subject||"无主题"})}),(0,r.jsxs)(E.E,{size:"1",color:"gray",children:[e.from.name," (",e.from.address,")"]}),(0,r.jsx)(E.E,{size:"1",color:"gray",children:new Date(e.createdAt).toLocaleString()})]})},e.id))})})}),(0,r.jsx)(U.Z,{style:{flex:1},children:c?(0,r.jsxs)(O.bL,{defaultValue:"html",children:[(0,r.jsxs)(O.B8,{children:[(null==(t=c.html)?void 0:t.length)>0&&(0,r.jsx)(O.l9,{value:"html",children:"HTML"}),c.text&&(0,r.jsx)(O.l9,{value:"text",children:"文本"})]}),(0,r.jsxs)(S.a,{py:"3",children:[(null==(a=c.html)?void 0:a.length)>0&&(0,r.jsx)(O.UC,{value:"html",children:(0,r.jsx)(M.F,{type:"hover",scrollbars:"vertical",style:{height:"calc(80vh - 180px)"},children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:c.html.join("\n")}})})}),c.text&&(0,r.jsx)(O.UC,{value:"text",children:(0,r.jsx)(M.F,{type:"hover",scrollbars:"vertical",style:{height:"calc(80vh - 180px)"},children:(0,r.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word",margin:0,fontFamily:"var(--font-mono)",fontSize:"14px"},children:c.text})})})]})]}):(0,r.jsx)(C.s,{align:"center",justify:"center",style:{height:"100%"},children:(0,r.jsx)(E.E,{color:"gray",children:"选择一封邮件查看内容"})})})]})]})]})})}var D=a(9070),A=a(1362);function P(e){let{iconSize:t}=e,{theme:a,setTheme:n}=(0,A.D)(),[i,l]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{l(!0)},[]),i)?(0,r.jsx)(D.K,{size:"4",variant:"ghost",onClick:()=>n("light"===a?"dark":"light"),"aria-label":"切换主题",children:"light"===a?(0,r.jsx)(R.rRK,{width:t,height:t}):(0,r.jsx)(R.gLX,{width:t,height:t})}):(0,r.jsx)(D.K,{size:"4",variant:"ghost","aria-label":"切换主题",children:(0,r.jsx)(R.gLX,{width:t,height:t})})}function _(e){let{onInboxOpen:t}=e;return(0,r.jsx)(C.s,{justify:"end",align:"center",px:"6",py:"4",style:{position:"fixed",top:0,left:0,right:0,zIndex:1e3},children:(0,r.jsxs)(C.s,{gap:"6",align:"center",children:[(0,r.jsx)(D.K,{size:"4",variant:"ghost","aria-label":"收信箱",onClick:t,children:(0,r.jsx)(R.snM,{width:24,height:24})}),(0,r.jsx)(D.K,{size:"4",variant:"ghost","aria-label":"GitHub",onClick:()=>window.open("https://github.com/GuooGaii/ip-geoaddress-generator","_blank"),children:(0,r.jsx)(R.ERf,{width:24,height:24})}),(0,r.jsx)(P,{iconSize:24})]})})}var q=a(9137),F=a.n(q);function H(e){let{message:t,onClose:a,onClick:n,duration:i=5e3}=e,[l,o]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=setTimeout(()=>{o(!1),setTimeout(a,300)},i);return()=>clearTimeout(e)},[i,a]),l)?(0,r.jsxs)(U.Z,{onClick:n,style:{position:"fixed",bottom:"1rem",right:"1rem",width:"360px",cursor:"pointer",zIndex:1e3,animation:"slideIn 0.3s ease-out"},className:"hover:brightness-95 transition-all",children:[(0,r.jsx)(F(),{id:"fc94f4a15b3c1e66",children:"@-webkit-keyframes slideIn{from{-webkit-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);transform:translatex(0);opacity:1}}@-moz-keyframes slideIn{from{-moz-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-moz-transform:translatex(0);transform:translatex(0);opacity:1}}@-o-keyframes slideIn{from{-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-o-transform:translatex(0);transform:translatex(0);opacity:1}}@keyframes slideIn{from{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1}}"}),(0,r.jsxs)(C.s,{gap:"3",align:"center",p:"2",children:[(0,r.jsx)(R.snM,{width:"16",height:"16"}),(0,r.jsxs)(C.s,{direction:"column",gap:"1",style:{flex:1},children:[(0,r.jsx)(E.E,{weight:"medium",children:t.subject||"新邮件"}),(0,r.jsxs)(E.E,{size:"1",color:"gray",children:["来自: ",t.from.name," (",t.from.address,")"]})]}),(0,r.jsx)(D.K,{size:"1",variant:"ghost",onClick:e=>{e.stopPropagation(),a()},children:(0,r.jsx)(R.MKb,{})})]})]}):null}var K=a(3525),T=a(4319);let W=e=>{let{ipLoading:t,ipError:a,ipSignal:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.D,{size:"8",children:"真实地址生成器 \uD83C\uDF0D"}),(0,r.jsxs)(C.s,{gap:"2",align:"center",children:[(0,r.jsx)(E.E,{size:"4",color:"gray",children:"您的当前 IP 地址为："}),t?(0,r.jsx)(K.E,{children:(0,r.jsx)(T.C,{size:"4",children:"loading..."})}):a?(0,r.jsx)(E.E,{color:"red",children:"获取IP失败"}):(0,r.jsx)(T.C,{size:"4",children:s.value})]})]})};var V=a(1713),G=a(3333),Z=a(5869),B=a(667),J=a(547),$=a(116),X=a.n($);function Q(e){var t;let{children:a,onSelect:n}=e,[i,l]=(0,s.useState)("United States"),[o,c]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),[u,g]=(0,s.useState)(!1),[x,m]=(0,s.useState)(!1),[p,j]=(0,s.useState)({"United States":{}}),[y,f]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{try{f(!0);let e=await fetch("/data/regionData.json"),t=await e.json();j(t)}catch(e){console.error("加载地理数据失败:",e)}finally{f(!1)}})()},[]),(0,s.useEffect)(()=>{c(""),h("")},[i]),(0,s.useEffect)(()=>{h("")},[o]),(0,s.useEffect)(()=>{let e;return x?g(!0):e=setTimeout(()=>{g(!1)},200),()=>{e&&clearTimeout(e)}},[x]),(0,r.jsxs)(J.bL,{open:u,onOpenChange:g,children:[(0,r.jsx)(J.l9,{asChild:!0,children:(0,r.jsx)(S.a,{style:{flex:1},onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:a})}),(0,r.jsx)(J.UC,{align:"center",sideOffset:4,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),className:X().popoverContent,children:(0,r.jsx)(S.a,{p:"3",children:(0,r.jsxs)(C.s,{direction:"column",gap:"3",children:[(0,r.jsxs)(B.bL,{value:i,onValueChange:l,defaultValue:"United States",children:[(0,r.jsx)(B.l9,{}),(0,r.jsx)(B.UC,{children:(0,r.jsx)(B.q7,{value:"United States",children:"United States"})})]}),(0,r.jsxs)(B.bL,{value:o,onValueChange:c,children:[(0,r.jsx)(B.l9,{placeholder:y?"加载中...":"选择州"}),(0,r.jsx)(B.UC,{children:i&&p[i]&&Object.keys(p[i]||{}).sort((e,t)=>e.localeCompare(t)).map(e=>(0,r.jsx)(B.q7,{value:e,children:e},e))})]}),(0,r.jsxs)(B.bL,{value:d,onValueChange:h,children:[(0,r.jsx)(B.l9,{placeholder:y?"加载中...":"选择城市"}),(0,r.jsx)(B.UC,{children:i&&o&&[...(null==(t=p[i])?void 0:t[o])||[]].sort((e,t)=>e.localeCompare(t)).map((e,t)=>(0,r.jsx)(B.q7,{value:e,children:e},"".concat(o,"-").concat(e,"-").concat(t)))})]}),(0,r.jsx)(L.$,{onClick:()=>{i&&o&&d&&(n("".concat(i,"|").concat(o,"|").concat(d)),g(!1))},disabled:!i||!o||!d||y,children:y?"加载中...":"确认"})]})})})]})}class Y{async getCurrentIP(){try{return(await o.A.get("https://api.ipify.org?format=json")).data}catch(e){throw e instanceof Error&&console.error("获取当前IP地址失败:",e.message),e}}async getIPCoordinates(e){try{let{latitude:t,longitude:a}=(await o.A.get("https://ipapi.co/".concat(e,"/json/"))).data;return{latitude:t,longitude:a}}catch(t){throw t instanceof Error&&console.error("获取IP(".concat(e,")坐标失败:"),t.message),t}}async getRandomUser(e){try{return(await o.A.get("https://randomuser.me/api/?nat=".concat(e,"&inc=name,phone,id"))).data}catch(t){throw t instanceof Error&&console.error("获取随机用户信息失败(国家: ".concat(e,"):"),t.message),t}}async getCoordinates(e,t,a){try{let r="https://nominatim.openstreetmap.org/search?q=".concat(a,",").concat(t,",").concat(e,"&format=json&limit=1"),{lat:s,lon:n}=(await o.A.get(r)).data[0];return{lat:s,lon:n}}catch(r){throw r instanceof Error&&console.error("获取地理坐标失败(".concat(a,", ").concat(t,", ").concat(e,"):"),r.message),r}}generateRandomOffset(e,t){return{latitude:e+(Math.random()-.5)*.02,longitude:t+(Math.random()-.5)*.02}}async getRandomAddress(e,t){try{let{latitude:a,longitude:r}=this.generateRandomOffset(e,t),s="https://nominatim.openstreetmap.org/reverse?lat=".concat(a,"&lon=").concat(r,"&format=json&accept-language=en");return(await o.A.get(s)).data.address}catch(a){throw a instanceof Error&&console.error("获取随机地址失败(坐标: ".concat(e,", ").concat(t,"):"),a.message),a}}exportHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";if("json"===t)return new Blob([JSON.stringify(e,null,2)],{type:"application/json"});throw Error("不支持的导出格式: ".concat(t))}getExportFileName(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=new Date().toISOString().split("T")[0];return"address-history-".concat(t,".").concat(e)}getGoogleMapUrl(e){let t=[e.road,e.city,e.state,e.country].filter(Boolean).join(", ");return"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(t))}}function ee(e){let{history:t,selectedHistory:a,onHistoryClick:s,onDeleteRecord:n,onDeleteAll:i,onToggleStarred:l}=e,o=(e,t)=>{t.stopPropagation(),n(e)},c=(e,t)=>{t.stopPropagation(),l(e)};return(0,r.jsx)(S.a,{style:{flex:1,minHeight:0,position:"relative"},children:(0,r.jsxs)(C.s,{direction:"column",style:{position:"absolute",inset:0},children:[(0,r.jsx)(E.E,{size:"2",mb:"2",color:"gray",children:"历史记录"}),(0,r.jsx)(M.F,{type:"hover",scrollbars:"vertical",style:{flex:1},children:(0,r.jsx)(C.s,{direction:"column",gap:"2",pr:"3",children:0===t.length?(0,r.jsx)(S.a,{style:{minHeight:"100px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(E.E,{size:"2",color:"gray",align:"center",children:"当前没有任何生成的信息"})}):t.map(e=>(0,r.jsx)(S.a,{style:{padding:"8px 12px",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.2s",backgroundColor:a===e.id?"var(--gray-a6)":void 0},className:"hover:bg-[var(--gray-a4)]",onClick:()=>s(e),children:(0,r.jsxs)(C.s,{align:"center",justify:"between",gap:"3",children:[(0,r.jsxs)(C.s,{align:"center",gap:"2",style:{flex:1,minWidth:0},children:[(0,r.jsxs)(E.E,{size:"2",style:{flex:1,minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[e.user.name.last," ",e.user.name.first]}),(0,r.jsx)(I.E,{size:"1",variant:"soft",color:"gray",children:new Date(e.timestamp).toLocaleDateString()})]}),(0,r.jsx)(D.K,{size:"1",color:"amber",variant:"ghost",onClick:t=>c(e.id,t),children:e.isStarred?(0,r.jsx)(R.WmX,{}):(0,r.jsx)(R.Gg5,{})}),(0,r.jsx)(D.K,{size:"1",color:"red",variant:"ghost",onClick:t=>o(e.id,t),children:(0,r.jsx)(R.ucK,{})})]})},e.id))})}),t.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.w,{size:"4",my:"3"}),(0,r.jsxs)(C.s,{justify:"between",gap:"3",children:[(0,r.jsxs)(L.$,{size:"2",variant:"soft",onClick:()=>{let e=new Y,a=e.exportHistory(t),r=URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download=e.getExportFileName(),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)},children:[(0,r.jsx)(E.E,{children:"导出JSON"}),(0,r.jsx)(R.s3U,{})]}),(0,r.jsxs)(L.$,{size:"2",color:"red",variant:"soft",onClick:i,children:[(0,r.jsx)(E.E,{children:"删除全部"}),(0,r.jsx)(R.ucK,{})]})]})]})]})})}let et=e=>{let{inputIp:t,inputMode:a,isLoading:s,history:n,selectedHistory:i,setInputIp:o,setInputMode:c,handleGenerateAddress:d,onHistoryClick:h,onDeleteRecord:u,onDeleteAll:g,onToggleStarred:x}=e;return(0,r.jsx)(U.Z,{size:"4",style:{flex:2},className:"hidden md:flex",children:(0,r.jsxs)(C.s,{direction:"column",gap:"3",style:{flex:1},children:[(0,r.jsx)(S.a,{children:(0,r.jsxs)(C.s,{gap:"3",children:[(0,r.jsxs)(V.b,{defaultValue:"ip",onValueChange:e=>{c(e),o("")},size:"2",children:[(0,r.jsx)(V.q,{value:"ip",children:"IP"}),(0,r.jsx)(V.q,{value:"address",children:"地址"})]}),"address"===a?(0,r.jsx)(C.s,{style:{flex:1},children:(0,r.jsx)(Q,{onSelect:o,children:(0,r.jsx)(G.b,{size:"2",placeholder:"请选择地址",value:t,onChange:e=>o(e.target.value),style:{flex:1}})})}):(0,r.jsx)(G.b,{size:"2",placeholder:l.value,value:t,onChange:e=>o(e.target.value),style:{flex:1}}),(0,r.jsxs)(L.$,{size:"2",onClick:d,disabled:s,children:[(0,r.jsx)(E.E,{children:s?"生成中...":"生成地址"}),(0,r.jsx)(R.jfu,{className:s?"animate-spin":""})]})]})}),(0,r.jsx)(Z.w,{size:"4"}),(0,r.jsx)(ee,{history:n,selectedHistory:i,onHistoryClick:h,onDeleteRecord:u,onDeleteAll:g,onToggleStarred:x})]})})};var ea=a(7192);function er(e){let{isCopied:t}=e;return(0,r.jsxs)("span",{className:"relative inline-flex",children:[(0,r.jsx)("span",{className:"absolute inset-0 transition-opacity duration-300 ease-in-out ".concat(t?"opacity-100":"opacity-0"),children:(0,r.jsx)(R.Srz,{className:"text-green-500"})}),(0,r.jsx)("span",{className:"transition-opacity duration-300 ease-in-out ".concat(t?"opacity-0":"opacity-0 group-hover:opacity-100"),children:(0,r.jsx)(R.TdU,{})})]})}let es=e=>{let{children:t,value:a}=e,[n,i]=(0,s.useState)(!1),l=async()=>{try{await navigator.clipboard.writeText(a),i(!0),setTimeout(()=>i(!1),2e3)}catch(e){console.error("Failed to copy text: ",e)}};return(0,r.jsx)(D.K,{size:"3","aria-label":"复制",color:"gray",variant:"ghost",className:"group",onClick:l,children:(0,r.jsxs)(C.s,{align:"center",gap:"2",children:[t,(0,r.jsx)(er,{isCopied:n})]})})},en=e=>{let{label:t,value:a,loading:s,extraIcon:n,textSize:i="2"}=e,l=(0,r.jsx)(ea.JU,{minWidth:"60px",style:{marginLeft:"8px"},children:(0,r.jsxs)(C.s,{align:"center",gap:"2",children:[(0,r.jsx)(E.E,{size:i,children:t}),n]})});return s?(0,r.jsxs)(ea.q7,{children:[l,(0,r.jsx)(ea.WT,{children:(0,r.jsx)(K.E,{children:(0,r.jsx)(E.E,{children:"Loading..."})})})]}):a?(0,r.jsxs)(ea.q7,{children:[l,(0,r.jsx)(ea.WT,{children:(0,r.jsx)(es,{value:a,children:(0,r.jsx)(E.E,{highContrast:!0,children:a})})})]}):null};function ei(e){let{userSignal:t,loading:a,email:s}=e,n=[{id:"last",label:"姓",getValue:e=>e.name.last},{id:"first",label:"名",getValue:e=>e.name.first},{id:"phone",label:"电话",getValue:e=>e.phone},{id:"ssn",label:"SSN",getValue:e=>e.id.value||"暂无"},{id:"email",label:"邮箱",getValue:(e,t)=>t}];return(0,r.jsx)(ea.bL,{children:n.map(e=>(0,r.jsx)(en,{label:e.label,value:t.value?e.getValue(t.value,s):void 0,loading:a},e.id))})}var el=a(9591),eo=a(7152);function ec(e){let{addressSignal:t,loading:a}=e,s=t.value?m.getGoogleMapUrl(t.value):null,n=(e,t)=>t&&e?(0,r.jsxs)(el.bL,{children:[(0,r.jsx)(el.l9,{children:(0,r.jsx)(D.K,{size:"1",variant:"ghost",className:"cursor-pointer",onClick:()=>window.open(t,"_blank"),children:(0,r.jsx)(R.fCU,{})})}),(0,r.jsx)(el.UC,{style:{padding:"10px",overflow:"hidden",backgroundColor:"var(--gray-1)",border:"1px solid var(--gray-6)",borderRadius:"var(--radius-3)",maxWidth:"500px",width:"500px"},align:"start",side:"top",sideOffset:5,avoidCollisions:!0,children:(0,r.jsx)(eo.Y,{clip:"padding-box",side:"all",p:"0",children:(0,r.jsx)(S.a,{style:{width:"100%",height:"320px",position:"relative",cursor:"pointer",overflow:"hidden"},onClick:()=>window.open(t,"_blank"),children:(0,r.jsx)("iframe",{width:"100%",height:"100%",style:{border:0},loading:"lazy",src:"https://maps.google.com/maps?q=".concat(encodeURIComponent([e.road,e.city,e.state,e.country].filter(Boolean).join(", ")),"&output=embed&z=16")})})})})]}):null;return(0,r.jsx)(ea.bL,{children:[{id:"road",label:"街道"},{id:"city",label:"城市"},{id:"state",label:"州/省"},{id:"postcode",label:"邮编"},{id:"country",label:"国家"}].map(e=>{var i,l;return(0,r.jsx)(en,{label:e.label,value:null==(l=t.value)||null==(i=l[e.id])?void 0:i.toString(),loading:a,extraIcon:"road"===e.id?n(t.value,s):void 0},e.id)})})}let ed=e=>{var t;let{userSignal:a,addressSignal:s,isLoading:n,error:i,addressError:l,tempEmail:o}=e;return(0,r.jsx)(U.Z,{size:"4",style:{flex:1},className:"flex-1 w-full",children:(0,r.jsxs)(C.s,{direction:"column",gap:"4",children:[(i||l)&&(0,r.jsx)(E.E,{color:"red",children:i||(null!=(t=null==l?void 0:l.message)?t:String(l))}),(0,r.jsx)(S.a,{style:{width:"100%"},children:(0,r.jsxs)(C.s,{direction:"column",gap:"3",children:[(0,r.jsx)(ei,{userSignal:a,loading:n,email:o}),(0,r.jsx)(Z.w,{size:"4"}),(0,r.jsx)(ec,{addressSignal:s,loading:n})]})})]})})};function eh(){let{isLoading:e,error:t,addressRefetch:a}=function(e){let t=(0,n.I)({queryKey:["coordinates",e],queryFn:async()=>{if(console.log("获取坐标请求发起"),!e)return null;let t=await m.getIPCoordinates(e);return j.value=t,t},enabled:null!==e&&""!==e,refetchOnWindowFocus:!1}),a=(0,n.I)({queryKey:["address",j.value],queryFn:async()=>{if(console.log("获取地址请求发起"),j.value){let e=await m.getRandomAddress(j.value);return p.value=e,e}return null},enabled:null!==t.data,refetchOnWindowFocus:!1});return{isLoading:t.isLoading||a.isLoading,error:t.error||a.error,addressRefetch:a.refetch}}(l.value),{isLoading:o,error:c}=function(){let e=(0,n.I)({queryKey:["ip"],queryFn:async()=>{console.log("IP请求发起");let e=await d.fetchIP();return l.value=e.ip,e},refetchOnWindowFocus:!1});return{isLoading:e.isLoading,error:e.error}}(),{isLoading:h,error:x,refetch:f}=function(e){let t=(0,n.I)({queryKey:["user","US"],queryFn:async()=>{console.log("用户请求发起");let e=await u.fetchUser("US");return g.value=e,e},enabled:!!e,refetchOnWindowFocus:!1});return{isLoading:t.isLoading,error:t.error,refetch:t.refetch}}("US"),[v,w]=(0,s.useState)(""),[k,z]=(0,s.useState)("ip"),[I,L]=(0,s.useState)(!1),[U,M]=(0,s.useState)(""),{history:O,selectedHistory:R,setSelectedHistory:D,addHistoryRecord:A,deleteHistoryRecord:P,deleteAllHistory:q,toggleStarred:F}=function(){let[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=localStorage.getItem("addressHistory");if(e)try{let a=JSON.parse(e).map(e=>({...e,id:e.id&&e.id.startsWith("history-")?e.id:y()})).sort((e,t)=>e.isStarred===t.isStarred?t.timestamp-e.timestamp:!!t.isStarred-!!e.isStarred);t(a)}catch(e){console.error("Failed to parse history:",e),t([])}},[]),(0,s.useEffect)(()=>{localStorage.setItem("addressHistory",JSON.stringify(e))},[e]),{history:e,selectedHistory:a,setSelectedHistory:r,addHistoryRecord:e=>{let{user:a,address:s,ip:n}=e,i=Date.now(),l={id:"history-".concat(i,"-").concat(Math.random().toString(36).substring(2)),user:a,address:s,ip:n,timestamp:i,isStarred:!1};t(e=>(e.some(e=>e.id===l.id)&&(l.id="history-".concat(i,"-").concat(Math.random().toString(36).substring(2))),[l,...e.slice(0,19)].sort((e,t)=>e.isStarred===t.isStarred?t.timestamp-e.timestamp:!!t.isStarred-!!e.isStarred))),r(l.id)},deleteHistoryRecord:e=>{t(t=>t.filter(t=>t.id!==e)),a===e&&r("")},deleteAllHistory:()=>{t([]),r("")},toggleStarred:e=>{t(t=>t.map(t=>t.id===e?{...t,isStarred:!t.isStarred}:t).sort((e,t)=>e.isStarred===t.isStarred?t.timestamp-e.timestamp:!!t.isStarred-!!e.isStarred))}}}(),{tempEmail:K,emailLoading:T,messages:V,selectedMessage:G,toastMessage:Z,setSelectedMessage:B,setToastMessage:J,handleMessageClick:$}=function(){let[e,t]=(0,s.useState)(""),[a,r]=(0,s.useState)(!0),[n,i]=(0,s.useState)([]),[l,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[h,u]=(0,s.useState)([]),[g,x]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{x(!0),u(b.getAvailableDomains())},[]),(0,s.useEffect)(()=>(!e&&g&&(()=>{r(!0);try{let e=b.generateEmail();t(e),r(!1)}catch(e){r(!1)}})(),()=>{b.destroy()}),[e,g]),{tempEmail:e,emailLoading:a,messages:n,selectedMessage:l,toastMessage:c,setSelectedMessage:o,setToastMessage:d,handleMessageClick:async e=>{},availableDomains:h,refreshMessages:async()=>{}}}(),[X,Q]=(0,s.useState)(!1),Y=I||T||e||o||h,ee=(0,s.useRef)(!1);(0,i.QZ)(()=>{ee.current||o||h||e||!l.value||!g.value||!p.value||(A({user:g.value,address:p.value,ip:l.value}),ee.current=!0)});let ea=async()=>{L(!0);try{if("address"===k){if(!v)return void M("请选择地址");let[e,t,r]=v.split("|");try{j.value=await m.getCoordinates(e,t,r),await f(),await a(),g.value&&p.value&&l.value&&A({user:g.value,address:p.value,ip:l.value})}catch(e){M("获取地址失败"),console.error(e)}return}if(v||l.value)try{await a(),await f(),g.value&&p.value&&l.value&&A({user:g.value,address:p.value,ip:l.value})}catch(e){M("获取地址失败"),console.error(e)}}finally{L(!1)}},er=e=>{Q(!0),B(e)};return(0,r.jsxs)(S.a,{children:[(0,r.jsx)(_,{onInboxOpen:()=>Q(!0)}),(0,r.jsxs)(C.s,{className:"min-h-screen",direction:"column",align:"center",justify:"center",gap:"4",style:{backgroundImage:"var(--background-image)",backgroundSize:"var(--background-size)",paddingTop:"60px"},children:[(0,r.jsx)(W,{ipLoading:o,ipError:c,ipSignal:l}),x&&(0,r.jsx)(E.E,{color:"red",children:"获取用户信息失败"}),(0,r.jsxs)(C.s,{gap:"4",style:{width:"100%",maxWidth:"900px"},className:"flex flex-col md:flex-row",children:[(0,r.jsx)(et,{inputIp:v,inputMode:k,isLoading:Y,history:O,selectedHistory:R,setInputIp:w,setInputMode:z,handleGenerateAddress:ea,onHistoryClick:e=>{D(e.id),p.value=e.address,g.value=e.user},onDeleteRecord:P,onDeleteAll:q,onToggleStarred:F}),(0,r.jsx)(ed,{userSignal:g,addressSignal:p,isLoading:Y,error:U,addressError:t,tempEmail:K})]}),(0,r.jsx)(N,{open:X,onOpenChange:Q,email:K,messages:V,onMessageClick:$,selectedMessage:G}),Z&&(0,r.jsx)(H,{message:Z,onClose:()=>J(null),onClick:()=>er(Z)})]})]})}},8427:(e,t,a)=>{Promise.resolve().then(a.bind(a,6214))}},e=>{var t=t=>e(e.s=t);e.O(0,[199,105,726,849,441,684,358],()=>t(8427)),_N_E=e.O()}]);