# 多平台部署指南

## 🎯 项目特点

本项目使用 Next.js 静态导出模式 (`output: 'export'`)，构建输出在 `out/` 目录，可以部署到任何静态托管平台。

## 🌐 推荐部署平台

### 🥇 一线平台 (推荐)

#### 1. **Cloudflare Pages** ⭐ (当前使用)
- **优势**: 全球 CDN，无限带宽，速度最快
- **免费额度**: 无限制
- **部署地址**: https://ip-8hq.pages.dev/
- **配置**: 
  ```
  Framework: Next.js (Static HTML Export)
  Build command: npm run build
  Output directory: out
  ```

#### 2. **Vercel** ⭐ (Next.js 官方)
- **优势**: Next.js 官方平台，零配置，自动优化
- **免费额度**: 100GB 带宽/月
- **部署方式**: 
  ```bash
  npm install -g vercel
  vercel --prod
  ```
- **配置文件**: `vercel.json` (已创建)

#### 3. **Netlify** ⭐ (功能最丰富)
- **优势**: 强大的 CI/CD，表单处理，边缘函数
- **免费额度**: 100GB 带宽/月，300分钟构建时间
- **部署方式**: 连接 GitHub 仓库
- **配置文件**: `netlify.toml` (已创建)

### 🥈 二线平台 (备选)

#### 4. **GitHub Pages** (完全免费)
- **优势**: 与 GitHub 深度集成，完全免费
- **免费额度**: 无限制
- **部署方式**: GitHub Actions 自动部署
- **配置文件**: `.github/workflows/deploy-github-pages.yml` (已创建)

#### 5. **Firebase Hosting** (Google)
- **优势**: Google 基础设施，CDN 覆盖好
- **免费额度**: 10GB 存储，125K 请求/月
- **部署方式**: 
  ```bash
  npm install -g firebase-tools
  firebase login
  firebase init hosting
  firebase deploy
  ```
- **配置文件**: `firebase.json` (已创建)

#### 6. **Surge.sh** (极简部署)
- **优势**: 命令行一键部署，超级简单
- **免费额度**: 无限静态网站
- **部署方式**: 
  ```bash
  npm install -g surge
  npm run build
  surge out/
  ```

### 🥉 其他平台

#### 7. **Azure Static Web Apps** (微软)
- **优势**: 企业级基础设施
- **免费额度**: 100GB 带宽/月
- **部署方式**: GitHub Actions 集成

#### 8. **Railway** (新兴平台)
- **优势**: 现代化界面，简单配置
- **免费额度**: 500小时/月
- **部署方式**: 连接 GitHub 仓库

## 🚀 快速部署命令

### 一键部署脚本

创建 `deploy.sh` (Linux/Mac) 或 `deploy.bat` (Windows):

```bash
# 构建项目
npm run build

# 部署到 Surge.sh
surge out/ your-domain.surge.sh

# 或部署到 Firebase
firebase deploy

# 或部署到 Vercel
vercel --prod
```

## 📊 平台对比

| 平台 | 免费带宽 | 构建时间 | CDN | 自定义域名 | 难度 |
|------|----------|----------|-----|------------|------|
| Cloudflare Pages | 无限 | 快 | ✅ | ✅ | 简单 |
| Vercel | 100GB/月 | 快 | ✅ | ✅ | 极简 |
| Netlify | 100GB/月 | 中等 | ✅ | ✅ | 简单 |
| GitHub Pages | 无限 | 慢 | ❌ | ✅ | 中等 |
| Firebase | 10GB/月 | 快 | ✅ | ✅ | 中等 |
| Surge.sh | 无限 | 无构建 | ❌ | ✅ | 极简 |

## 🎯 推荐策略

### 主力部署 (选择1个)
- **Cloudflare Pages** (当前) - 速度最快，无限制
- **Vercel** - Next.js 官方，体验最好
- **Netlify** - 功能最丰富

### 备份部署 (选择1-2个)
- **GitHub Pages** - 完全免费备份
- **Surge.sh** - 应急快速部署
- **Firebase** - 企业级备份

## 🔧 部署准备

所有必要的配置文件已创建：
- ✅ `vercel.json` - Vercel 配置
- ✅ `netlify.toml` - Netlify 配置  
- ✅ `firebase.json` - Firebase 配置
- ✅ `.github/workflows/deploy-github-pages.yml` - GitHub Pages 工作流

## 💡 建议

1. **保持 Cloudflare Pages 作为主力** (当前运行良好)
2. **添加 Vercel 作为备份** (Next.js 官方，体验最好)
3. **设置 GitHub Pages 作为应急方案** (完全免费)

这样你就有了三重保障！

---

**当前部署**: https://ip-8hq.pages.dev/
**GitHub 仓库**: https://github.com/hughes53/ip
